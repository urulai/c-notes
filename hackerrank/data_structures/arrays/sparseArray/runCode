#!/bin/sh

# Assumes no errors happened in intermediate steps.
if [ $# -lt 2 ]; then
	echo  "[usage] ./runCode input_test_file output_test_file"
	exit 1
fi

make clean

make

output=out

if ls "./$output" > /dev/null 2>&1; then
	# execute file
	./out $1
	
	# Get status of program last executed.
	status=$?
	if [ $status != 0 ]; then
		echo "[out] didn't run properly.";
	else			
		shift
		diff myoutput.txt $1;
		status=$?
		if [ $status = 0 ]; then
			echo "No difference between output generated by code and output_test file"
		fi
	fi
else
	echo "{out] not found"
fi



